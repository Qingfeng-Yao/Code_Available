《守望先锋》免费试玩客户端？简述从服务器发现的蛛丝马迹
近期有新闻称，某网友在暴雪战网客户端的配置中发现了免费试玩客户端的一些蛛丝马迹。本人顺着消息中的线索进行了一些追查，尝试验证上述新闻中的信息，同时也有了更多发现。因本人并非专业人士，全文的表述或观点可能存在错误，还请大家给予指正。谢谢！先前报道截图。文中提到的网友即为Blizztrack网站的作者开始之前开始前，我想先纠正先前媒体报道中的一个错误。很多媒体在转载消息时均称是在战网客户端目录下的配置文件中发现了信息，但实际上，原消息中的“Catalog”一词并非此意，而是指暴雪更新服务器上的一个实体，之后也会做详细的解释。为了让大家放心，先把结论放上来：新闻中提到的客户端为韩国区专供，且为试玩客户端。游戏免费化的可能性不大。整体过程获取上述信息，本人所进行的操作可概括如下：从更新服务器获取该产品的内容分发网络（CDN）及版本（Version）相关信息借由版本信息中的Hex值，从CDN信息中列出的服务器获取组建（Build）配置借由组建配置中的Hex值获取根（Root）文件内容第一步更新服务器的地址格式如下：http://(区域代码).patch.battle.net:1119为了便利，官方使用了产品ID来对游戏、组件和功能的更新信息进行归类。获取该产品更新使用的CDN服务器地址信息，链接格式如下：http://(区域代码).patch.battle.net:1119/(产品ID)/cdns获取该产品的版本信息，连接格式如下：http://(区域代码).patch.battle.net:1119/(产品ID)/versions这里，本人选用了美国区的代码（US）。游戏及组件目录信息的ID是“catalogs”，将链接补充完整后应该是下面的样式：http://us.patch.battle.net:1119/catalogs/cdnshttp://us.patch.battle.net:1119/catalogs/versions打开两个链接，可下载到“cdns”和”versions”两个文件。下面介绍如何利用这两个文件。第二部分"cdns“文件中的条目均按照以下格式编排：名称|路径|主机|服务器|配置路径“cdns”文件内容节选需要使用的是名称、主机、服务器条目中的内容。任选一个服务器，便可初步确定主体链接：https://blzddist1-a.akamaihd.net/tpr/catalogs至此，我们需要先利用”versions“文件中的组件设置Hex获取相关文件，之后利用其中的根文件Hex获取相关文件。Versions文件中的条目按照以下格式编排：区域|组建配置Hex值|CDN配置Hex值|钥匙环|组建ID|版本名称|产品设置Hex值“versions”文件内容节选我使用的是编号PUB-28的值，当然，你也可以使用其它值来进行测试。bceabcf68c91d208f18554e499f9755c之后，我们就可以开始获取组建设置了。链接格式如下：https://blzddist1-a.akamaihd.net/tpr/catalogs/config/(配置Hex前两位)/(配置Hex第三、四位)/(完整Hex)将上面的Hex值补充进去，可得到下面的链接：https://blzddist1-a.akamaihd.net/tpr/catalogs/config/bc/ea/bceabcf68c91d208f18554e499f9755c打开后，我们就可以看到组建配置了。组建配置之后，我们需要使用“root”的值来获取数据文件：14309130b1ad6f4e7e5b40bb281281b2获取数据的链接格式与配置链接十分相似：https://blzddist1-a.akamaihd.net/tpr/catalogs/data/(根文件Hex前两位)/(根文件Hex第三、四位)/(完整Hex)补全链接：https://blzddist1-a.akamaihd.net/tpr/catalogs/data/14/30/14309130b1ad6f4e7e5b40bb281281b2之后将文件下载即可。内容分析在文件中，我们可以找到之前的新闻中提到的条目：条目图示{"hash":"8253050e7fef6d15e952ea4374481936","name":"overwatch_f2p_trial_kor_accounts_only","requires":{"all_of":[{"pipeline":"beta","type":"client_pipeline"},{"include":"KOR","type":"account_country"}]}}其中包含以下信息：名称：overwatch_f2p_trial_kor_accounts_only分发管道：beta地区要求：韩国（KOR）初步推断，这可能是专供韩国区的免费试玩客户端。本人推断，这和韩国的网吧特权有一定关联，现在将此条目独立出来，可能是官方将改变试玩的形式，提供一个完全独立的客户端。当然，这只是一个推测，具体情况还需要时间的检验。不过初步看来，游戏全区免费化的可能性不大。另外还有一些比较有趣的发现。下面的表述均为个人总结，如有错误，欢迎大家指正：Mac版守望先锋相关表述该文件中还存在Mac版守望先锋的相关信息（overwatch_mac），但经过调查，该条目代表的是Mac端的游戏安装器，且下载下来的内容仍是Windows版。命运2相关表述命运2虽已在战网下架，但服务器仍存有相关信息（destiny_2、destiny_2_mac）。暴雪为不同职能的服务器起了不同的名字。登录窗口服务器：Tassadar登陆验证服务器：Olympus战网服务器：Aurora国区测试服相关信息中国区也存在测试服务器，但并未向公众开放。《使命召唤》系列游戏在系统中均使用代号作为名称。Viper：黑色行动4Odin：现代战争最后再给大家介绍一个小技巧。小技巧利用第一步中的版本信息，你可以了解某一游戏在各区域的更新情况。例如，查询守望先锋正式服和测试服的版本信息，只需使用“pro”和“prot”这两个产品ID即可。http://us.patch.battle.net:1119/pro/versions版本信息（版本号高亮显示）查询测试服信息时，你也可以在其中发现中国区的版本信息，这就证实中国区也存在测试服，只是没有像外服一样向玩家开放。另外，你也可以查询后台预先下载的版本信息：http://us.patch.battle.net:1119/pro/bgdl参考文献[1] Wowdev. Wiki: "TACT" Section[R], 2020.
